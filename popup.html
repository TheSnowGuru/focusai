<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FocusAI</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div id="app">
    <!-- Motivation Header (at very top) -->
    <div id="motivation" class="motivation-header hidden">
      <div id="motivation-text"></div>
    </div>

    <!-- Header -->
    <div class="header">
      <div class="header-left">
        <img src="icons/icon16.png" alt="FocusAI" class="app-icon">
        <div class="app-info">
          <h1>FocusAI</h1>
          <p class="tagline">Tidy, plan, and finish your tasks fast</p>
        </div>
      </div>
      <div class="header-right">
        <button id="auth-btn" class="auth-btn">Login</button>
      </div>
    </div>

    <!-- Main Timer View -->
    <div id="view-timer" class="hidden">
      <div class="main-content">
        <!-- Tab Bar -->
        <div id="tab-bar" class="tab-bar"></div>

        <!-- Task Section -->
        <div class="task-section">
          <div class="task-header">
            <div class="task-title-section">
              <h2>My Tasks</h2>
              <div class="drag-hint" title="Drag tasks to reorder by importance">‚ãÆ‚ãÆ</div>
            </div>
          </div>

          <!-- Inline Add Task Input -->
          <div class="add-task-row">
            <input id="add-task-input" type="text" placeholder="Add a task and press Enter" />
            <button id="add-task-btn" class="primary-btn"><span class="btn-icon">+</span> Add</button>
          </div>

          <div class="tasks-container">
            <ul id="task-list"></ul>
          </div>

          <div id="confetti" aria-hidden="true"></div>
        </div>
      </div>

      <!-- Pomodoro Footer (at very bottom) -->
      <div class="pomodoro-footer">
        <div class="pomodoro-left">
          <button id="start-stop" class="primary-btn">Start</button>
          <button id="restart" class="restart-btn" aria-label="Restart timer" title="Restart timer">üîÑ</button>
          <div id="time" class="timer-time">25:00</div>
          <div class="duration-controls">
            <button id="duration-down" class="duration-btn">-</button>
            <input id="duration-input" type="text" value="25" class="duration-input" />
            <button id="duration-up" class="duration-btn">+</button>
          </div>
        </div>
        <div class="pomodoro-right">
          <button id="play-music" class="music-btn" aria-label="Play music">üéµ</button>
          <button id="prev" class="ghost" aria-label="Previous track">‚èÆÔ∏è</button>
          <button id="next" class="ghost" aria-label="Next track">‚è≠Ô∏è</button>
        </div>
      </div>
    </div>

    <!-- Hidden Spotify Player (shown when music is playing) -->
    <div id="spotify-player" class="spotify-player hidden">
      <div class="player-header">
        <span class="player-title">Now Playing</span>
        <button id="close-player" class="close-btn">√ó</button>
      </div>
      <div id="spotify-embed" class="spotify-embed"></div>
    </div>

    <!-- Login View -->
    <div id="view-login" class="login-card">
      <div class="login-content">
        <h2>Login to Spotify</h2>
        <p>Connect your Spotify account to play focus music during your sessions.</p>
        <button id="login-spotify" class="spotify-btn">
          Login with Spotify
        </button>
        <div class="redirect-info">
          Redirect URI: <code id="redirect-uri"></code>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js" type="module"></script>
</body>
</html>