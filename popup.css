:root{
    --bg:#0e0f13;
    --panel:#171923;
    --text:#e8ecf3;
    --muted:#a9b0c2;
    --primary:#7ae0ff;
    --accent:#9effa1;
    --danger:#ff6b6b;
  }
  
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Arial}
  #app{width:700px; padding:16px;}
  .layout{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  #left{min-width:0}
  #right{min-width:0}
  
  .header{display:flex;align-items:center;gap:8px;margin-bottom:8px}
  h1{font-size:16px;font-weight:700;margin:0}
  .dot{width:10px;height:10px;border-radius:50%;}
  .dot.stopped{background:#555}
  .dot.running{background:var(--accent);box-shadow:0 0 8px var(--accent)}
  
  .bubble-wrap{display:grid;place-items:center;gap:10px;margin:12px 0 16px}
  #bubble{
    width:220px;height:220px;border:none;border-radius:50%;
    background: radial-gradient(120px 120px at 40% 35%, rgba(122,224,255,.5), rgba(158,255,161,.45) 40%, rgba(122,224,255,.25) 70%, rgba(158,255,161,.15) 100%),
                linear-gradient(180deg, #18202f, #0f1420);
    color:var(--text);cursor:pointer;position:relative;box-shadow:0 20px 50px rgba(0,0,0,.35), inset 0 0 30px rgba(122,224,255,.2);
    transition:transform .2s ease, filter .3s ease;
    animation:breath 5s ease-in-out infinite;
  }
  #bubble:hover{transform:translateY(-2px)}
  #bubble:active{transform:scale(.98)}
  @keyframes breath{0%,100%{filter:drop-shadow(0 0 8px rgba(122,224,255,.3))}50%{filter:drop-shadow(0 0 14px rgba(158,255,161,.45))}}
  
#time{font-size:48px;font-weight:800;text-shadow:0 2px 8px rgba(0,0,0,.4);position:relative;z-index:2}
#progress{position:absolute;left:0;top:0;width:220px;height:220px;border-radius:50%;z-index:1;
  background:conic-gradient(var(--accent) 0deg, var(--accent) 0deg, rgba(255,255,255,0.08) 0deg);
}
  
  #subtext{font-size:12px;color:var(--muted)}
  
  .card{
    background:var(--panel);border:1px solid #232638;border-radius:14px;padding:12px;
    box-shadow:0 8px 24px rgba(0,0,0,.25);
  }
  .hidden{display:none}
  .row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
  .pill{font-size:12px;padding:4px 8px;border-radius:999px;background:#1d2332;color:var(--primary);border:1px solid #283149}
  .meta{justify-content:space-between}
  a{color:var(--primary);text-decoration:none}
  a:hover{text-decoration:underline}
  button.ghost{
    background:transparent;border:1px solid #273046;color:var(--text);
    border-radius:10px;padding:6px 10px;cursor:pointer
  }
  button.ghost:hover{border-color:#3a4766}

  /* Spotify login button */
  #login-spotify{
    background:#1DB954;
    color:#0a0a0a;
    border-color:#1DB954;
    font-weight:700;
    padding:10px 14px;
    font-size:14px;
    border-radius:999px;
  }
  #login-spotify:hover{filter:brightness(1.05)}
  #login-spotify:active{transform:translateY(1px)}

  /* Tasks */
  .tasks-title{font-size:14px;font-weight:700}
  #task-list{list-style:none;margin:0;padding:0}
  #task-list li{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid #22293a}
  #task-list li:last-child{border-bottom:none}
  .task{flex:1;font-size:14px}
  .done .task{text-decoration:line-through;color:var(--muted)}
  .check{width:22px;height:22px;border-radius:6px;border:1px solid #2b3550;display:inline-grid;place-items:center;cursor:pointer;transition:transform .12s ease;color:#ffc7c7}
  .check:active{transform:scale(.92)}
  .done .check{background:linear-gradient(180deg,#1f6a3a,#174c29);border-color:#1f6a3a;color:#caffd3}
  .muted{color:var(--muted);font-size:12px}
  #confetti{position:relative;height:0;overflow:visible}

  /* Confetti particles */
  #confetti{position:relative;height:0;overflow:visible}
  .confetti{
    position:absolute;top:-8px;left:50%;
    font-size:18px;line-height:1;
    will-change:transform, opacity;
    filter:drop-shadow(0 2px 2px rgba(0,0,0,.25));
    animation:
      conf-burst 1.2s cubic-bezier(.17,.67,.23,1) forwards,
      conf-wiggle .3s ease-in-out 3 alternate;
  }
  @keyframes conf-burst{
    0%{opacity:0;transform:translate(-50%, -4px) scale(.9) rotate(0deg)}
    15%{opacity:1}
    100%{opacity:0;transform:translate(calc(-50% + var(--dx, 0px)), calc(-1 * var(--dy, 60px))) scale(1.15) rotate(var(--rot, 20deg))}
  }
  @keyframes conf-wiggle{
    0%{transform:translate(calc(-50% + var(--jx,0px)), calc(-1 * var(--jy,0px))) rotate(0deg)}
    100%{transform:translate(calc(-50% + var(--jx2,0px)), calc(-1 * var(--jy2,0px))) rotate(8deg)}
  }